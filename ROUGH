<script>
document.addEventListener('DOMContentLoaded', function() {
    const driveStorageBtn = document.getElementById('driveStorageBtn');
    const cloudStorageBtn = document.getElementById('cloudStorageBtn');
    const isAuthenticated = "{{ current_user.is_authenticated|tojson }};"
    
    // Initialize tooltips for non-authenticated users
    if (!isAuthenticated) {
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        tooltipTriggerList.forEach(el => {
            new bootstrap.Tooltip(el, {
                customClass: 'modern-tooltip',
                template: `
                    <div class="tooltip modern-tooltip" role="tooltip">
                        <div class="tooltip-arrow"></div>
                        <div class="tooltip-inner"></div>
                    </div>
                `,
                html: true,
                trigger: 'hover focus',
                animation: true,
                delay: { show: 0, hide: 100 }
            });
        });
    }

    // Button click handlers
    driveStorageBtn?.addEventListener('click', function() {
        if (isAuthenticated) {
            window.location.href = "{{ url_for('g_upload') }}";
        } else {
            window.location.href = "{{ url_for('login') }}";
        }
    });

    cloudStorageBtn?.addEventListener('click', function() {
        if (isAuthenticated) {
            window.location.href = "{{ url_for('upload') }}";
        } else {
            window.location.href = "{{ url_for('login') }}";
        }
    });
});
</script>